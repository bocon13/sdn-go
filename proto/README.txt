This is copied from https://github.com/p4lang/PI/
commit: 9fc50cd0a0187eb1346272524d4b8bafb51bb513

TODO make this a submodule?